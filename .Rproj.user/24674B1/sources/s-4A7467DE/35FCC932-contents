rm(list = ls())
library(arules)
 

## Get Sample data ##
#data("Groceries")


# The following function will take a arules transaction matrix and create a normal matrix from it #
# This does not make any sense performance wise but in order to create the first version of our code it is easier to understand #
makeTansactionMatrix <- function(mat){
  
  # Get the underlying data matrix from the transaction matrix 
  mat_out <- t(as.matrix(mat@data))
  
  # Add the rownames (which do represent the different items)
  colnames(mat_out) <- mat@itemInfo$labels


  # return the  resulting matrix #
  return(mat_out)
}



#Groc <-  makeTansactionMatrix(Groceries)

FrequentItemsets <- function(dataset, minsupport){
  
  # Calculate frequent Itemsets of size 1 #
  L1 <- apply(dataset,2 , mean)
  L1 <- L1[L1 >= minsupport]
  L1_names <- names(L1)
  L1_supp <- as.numeric(L1)
  L1 <- diag(length(L1_names))
  rownames(L1) <- L1_names
  
  # 
  k <- 2
  while (length(get(paste("L", k - 1, sep = ""))) > 0 ){
    
    #assign(paste("L", k, sep = ""), ...)
    
    #k <- k + 1
    break
  }

  return(L1)
  
}

### Function call ###
#f_items(Groc, 0.1)





  